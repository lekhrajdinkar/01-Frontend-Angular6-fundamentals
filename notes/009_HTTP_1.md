## HTTP

### Features:
1. Connecting to service/REST is important :
- to load data from server
- to store data to server
- other task - some calculation which we dont want to do at frontend, etc.

2. two cases:
- send REST > Recive response > Synchronously > it will reload ng SPA > state will be lost/break App.
- send REST > Recive response > Asynchronously > it will NOT reload ng SPA > re-render page with  Data.

![img](https://github.com/lekhrajdinkar/NG6/blob/master/notes/assets/http/01.JPG)

3. Add httpModule in rootModule to make it work.
![img](https://github.com/lekhrajdinkar/NG6/blob/master/notes/assets/http/06.JPG)
***

### FireBase Setup
Realtime database - Data As Service

https://console.firebase.google.com/project/ng6-spa-eop/database

https://ng6-spa-eop.firebaseio.com/

"rules": {
    ".read": true,
    ".write": true
}

***

### PROGRAM - Create Service to make REST call 
1. SERVICE => `ServerService.ts` : It will store ServerList in firebase DB.
![img](https://github.com/lekhrajdinkar/NG6/blob/master/notes/assets/http/02.JPG)
- Add Service provider --> AppComponent
- inject http service in our service. hence decorate it with @Injectable.
- `ServerService.ts` > `storeServer()` > `this.http.post()` --> this is just Observable, we are not sending POST request here.

2. Component =>

2.1 TEMPLATE
> Create SAVE-SERVER button > on click > onSave() > `this.ServerService.storeServer()` obsrvble
![img](https://github.com/lekhrajdinkar/NG6/blob/master/notes/assets/http/03.JPG)

2.2. LOGIC/TS => 
![img](https://github.com/lekhrajdinkar/NG6/blob/master/notes/assets/http/04.JPG)
- Inject the SERVICE into this component.
- Calling service's storeServer(), which is observable. Till this point no REST call made.
- Make REST call (by subscribing) : this is imp step.
![img](https://github.com/lekhrajdinkar/NG6/blob/master/notes/assets/http/05.JPG)
> note : Angular will unsubscribe it once recived response.

```
this.http.post(https://ng6-spa-eop.firebaseio.com/ng-proj-2/servers.json, servers)
```

- FireBase state:
![img](https://github.com/lekhrajdinkar/NG6/blob/master/notes/assets/http/07.JPG)








